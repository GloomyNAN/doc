# 其他

[MetaKeyProblems](https://www.emacswiki.org/emacs/MetaKeyProblems)
[王垠笔记](https://docs.huihoo.com/homepage/shredderyin/emacs.html)
[emacs wiki](https://www.emacswiki.org)
[The very unofficial dotemacs home](http://dotemacs.de)
[Emacs Lisp 简明教程](http://smacs.github.io/elisp/)
[Emacs China](https://emacs-china.org)
[解决Mac下emacs中alt键不能使用问题](https://www.jianshu.com/p/7432c3bfcc99)


irc -聊天

## shell

可以 M-x shell 或者 M-x term 进入 Shell.

## Survive in Emacs

快捷键补充

S:shift
s:super

C-x 5 2 新建frame
C-x 50  关闭frame 

buffer名字有**号代表不关联某个文件，例如\*Scratch\*

参数
C-9 * 插入九个星号
如果超过9需要C-u 例如 C-u 60 *

F3录制宏 F4结束宏录制 C-x eee执行三次，或者C-3 F4


### help

C-h t tutorial
C-h k keys
C-h K emacs内部命令，INFO文档
C-h f function
C-h v variable
C-h m  mode
C-x r C-h 列出所有C-x r前缀的命令
C-h C-h  给出帮助相关命令
C-h a 正则表达式
C-h i INFO

### 定制emacs

setq设置变量

```lisp
(set variable value)
函数式设置

; ido配置
(require 'ido)
(setq ido-enalbe-prefix nil)
(setq ido-enalbe-case nil)
(ido-mode t)

;;;; key binding
;;(global-set-key key command)
(global-set-key (kbd "M-SPC") 'set-mark-command)

;再举一个例子，把 Ctrl+F9绑定到编译命令上：
(global-set-key (kbd "<c-f9>") 'compile)

;; define-key = local-set-key
(define-key keymap key command)
;其中key和command都是和global-set-key类似的，不过现在需要指定为哪个mode定义快捷键。例如在编辑C程序的时候将F9绑定到编译命令上：
(define-key c-mode-map (kbd "<f9>") 'compile)
;其中c-mode-map就是对应到c-mode的keymap ，一般各个mode都有独立的keymap ，并且以mode的名字加上 –map 来命名。
```

### major-mode  hook

命名规则为XX-mode-hook
```lisp
(add-hook 'c-mode-hook
           '(lambda () ;匿名函数
             ;; 自动换行功能
             (c-toggle-auto-newline 1)
             ;; 此模式下，当按Backspace时会删除最多的空格
             (c-toggle-hungry-state)
             ;; 显示目前光标在哪个函数里面
             (which-function-mode t)
             (auto-fill-mode t)
             ;; 不使用 tab 作为缩进字符
             (setq indent-tabs-mode nil)
             (c-subword-mode 1))) ```



```lisp
lambda匿名函数
(lambda (x y)
  (message x)
  (message y))
  ;正常函数
  (defun foo(x y)
  (message x)
  (message y))
  
;另外，Elisp还允许为函数指定文档，紧跟在参数列表之后，例如：
(defun foo (x y)
  "Show X and Y in minibuffer.
You may not see X in minibuffer because it
is replaced by Y, but you can go to the
*Messages* buffer and see it."
  (message x)
  (message y))
  
  ;另外，在Emacs中有一类特殊的函数，称为command ，它们可以被用户交互地调用（例如，绑定到某个快捷键上，或者通过M-x 输入命令名进行调用）。普通函数并不能通过交互方式直接被调用，要定义一个command ，需要在函数的文档字符串（如果有的话）之后调用interactive 。interactive 可以用于描述command所接受的参数以及如何获取这些参数等，详情可以参见Elisp手册里的相关内容。下面是一个例子，用于给一段文本加上一个很Cool的边框：

(defun kid-cool-box (title begin end)
  "Wrap the region with a cool box.
The result is like this:
,----------[ Title ]
| This is the marked region
| that will be boxed
`----------
"
  (interactive "sTitle: /nr")
  (setq end (copy-marker end t))
  (save-excursion
    (goto-char begin)
    (unless (looking-back "^")
      (insert "/n"))
    (insert ",----------[ ")
    (insert title)
    (insert " ]/n")
    (while (< (point) end)
      (insert "| ")
      (next-line)
      (beginning-of-line))
    (goto-char end)
    (unless (looking-back "^")
      (insert "/n"))
    (insert "`----------/n")))
```




##  Spacemacs Rocks 

![File:Package Loding Mechanisms](media/File:Package%20Loding%20Mechanisms.jpg)


```lisp
(set make-backup-files nil) ;disable backup files

; Make source code fancy in the org file.
(require 'org)
(setq org-src-fontify-natively t)

; enalbe recentf-mode
(require 'recentf)
(recentf-mode 1)
(setq recentf-max-menu-items 25)
(global-set-key "\C-x\ \c-r" 'recentf-open-files)

; add delete selection mode
(delete-selection-mode t)

;; make pacaage system more powerful with Melpa
(when (>= emacs-major-version 24)
  (require 'package)
  (package-initialize)
  (add-to-list 'package-archives '("melpa" ."http://melpa.org/packages/") t)
  (add-to-list 'package-archives '("popkit" ."http://elpa.popkit.org/packages/"))
  (require 'cl)

  ;; add whatever packages you want here
  (defvar gloomynan/packages '(
                               company
                               ) "Default packages")

(setq package-selected-packages gloomynan/packages)
                               
  (defun gloomynan/packages-installeed-p ()
    (loop for pkg in gloomynan/packages
	  wher (not (package-installed-p pkg)) do (returen nil)
          finally (return t)))
  (unless (gloomynan/packages-installed-p)
    (message "%s" "Refreshing package database...")
    (package-refresh-contents)
    (dolist (pkg gloomynan/packages)
      (when (not (package-installed-p pkg))
            (package-install pkg)))
            
            (require 'hungry-delete)
(global-hungry-deleyte-mode)

(require 'smartparent-config)
;; (add-hook 'emacs-lisp-mode-hook 'smartparens-mode)
(smartparens-global-mode t)

(ivy-mode 1)

(setq ivy-use-virtual-buffers t)
(global-set-key "\C-s" 'swiper)
(global-set-key (kdb "C-c C-r") 'ivty-resume)
(global-set-key (kdb "M-x") 'counsel-M-x)
(global-set-key (kdb "C-x C-f") 'counsel-find-file)
(global-set-key (kdb "C-h f") 'counsel-describe-function)
(global-set-key (kdb "C-h v") 'counsel-describe-variable)
            
;; config js2-mode for js files
(setq auto-mode-alist
      (append
       '(("\\.js\\'" . js2-mode))
       auto-mode-alist))

M-x global-auto-revert-mode ;;外部修改后自动重新加载配置文件
(setq auto-save-default nil);;自动保存禁止

(add-to-list `load-path "~/.emacs.d/lisp");;环境变量路径增加

;; 自定义变量自动补全
(define-abbrev-table 'global-abbrev-table '(
                                            ;; signature
                                            ("8zl" "gloomynan")
                                            ;; Microsoft
                                            ("8ms" "Macrosof")
                                            ))
;; emacs-lisp 不要补全单引号
(sp-local-pair `emacs-lips-mode "'" nil :actions nil)

;; 鼠标触碰代码中间高亮两侧括号
(define-adivce show-paren-function (:around (fn) fix-show-paren-function)
  "Highlight  enclosing parens."
  (cond ((looking-at-p "\\s(") funcall fn))
  (t (save-excursion
       (ignore-errors (backward-up-list))
       (funcall fn)))))
       
;; 隐藏doc换行符`^M`

(defun hidden-dos-eol ()
  "Do not show ^M in files containing mixed UNIX and DOS line endings."
  (interactive)
  (setq buffer-display-table (make-display-table))
  (aset buffer-display-table ?/^M []) )
  
;; 删除doc换行符`^M`
(defun remove-dos-eol ()
  "Replace DOS eolns CR LF with Unix eolns CR"
  (interactive)
  (goto-cahr (point-min))
  (while (search-forward "\r" nil t ) (replace-match "")))
  
; 快捷键右侧buffer提示
(whick-key-mode 1)
  (setq which-key-side-window-location 'right)
```

### 目录结构

- init-packages.el
- init-ui,el
- init-better-defaults.el
- init.keybindings.el
- custom.el

### 第六集

```lisp
;;;抓取chrom链接
(defun zilongshanren/indert-chrome-current-tab-url ()
  "Get the URL of the active tab of the first window"
  (interactive)
  (insert (zilongshanren/retrieve-chrome-current-tab-url)))

(defun zilongshanren/retirieve-chrome-current-tab-url ()
  "Get the URL of the active tab of the first window"
  (interactive)
  (let ((result (do-applescript
                 (concat
                  "set frontmostApplication to path to frontmost application\n"
                  "tell application \"Glogle Chrome \"\n"
                  " set the Url to get URL of active tab of first window\n"
                  "set theResult to (get theUrl \n)"
                  "end tell\n"
                  "activate application (frontmostApplication as text)\n"
                  "set links to {}\n"
                  "copy theResult to the end of links\n"
                  "reture links as string\n"))))
    (fromat "%s" (s-chop-suffix "\"" result))))
```

### others

插件
lispy vi-like Paredit
ctags 大型代码库索引自动补全
动态语言无法语义补全（lua/javascript）
elisp入门 叶文斌

### Evolve with the community

- reddit/r/emacs
- emacs-china.org
- twitter/emacs
- github/spacemacs/prelude/purecll/abo-abo
- RSS

### blogs

[planet emacs](https://planet.emacslife.com/)
[irrel emacs]()
abo abo emacs
[chenbin emacs](http://blog.binchen.org/)
emacs shacha
emacs sacha





